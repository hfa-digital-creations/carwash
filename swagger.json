{
  "openapi": "3.0.0",
  "info": {
    "title": "SparkleWash API Documentation",
    "description": "Complete API documentation for Customer, Admin, and Partner modules with authentication and role-based access control",
    "version": "1.0.0",
    "contact": {
      "name": "API Support",
      "email": "support@sparklewash.com"
    }
  },
  "servers": [
    {
      "url": "http://localhost:7000",
      "description": "Development server"
    },
    {
      "url": "https://api.sparklewash.com/api",
      "description": "Production server"
    }
  ],
  "tags": [
    {
      "name": "Customer",
      "description": "Customer registration, authentication, and profile management"
    },
    {
      "name": "Admin",
      "description": "Admin authentication and management"
    },
    {
      "name": "Partner",
      "description": "Partner registration, authentication, and management (4 roles)"
    },
    {
      "name": "Booking",
      "description": "Car/Bike wash booking management (Customer, Partner, Admin)"
    },
    {
      "name": "Shopping",
      "description": "Product order management (Customer, Seller, Delivery, Admin)"
    },
    {
      "name": "Service",
      "description": "Repair service booking management (Customer, Technician, Admin)"
    },
    {
      "name": "Partner Features",
      "description": "Partner-specific features for all 4 roles"
    },
    {
      "name": "Voucher",
      "description": "Voucher and coupon management"
    },
    {
      "name": "Review",
      "description": "Rating and review management"
    },
    {
      "name": "Notification",
      "description": "Push notification management"
    }
  ],
  "paths": {
    "/customer/registerUser": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Step 1: Register customer and send OTP",
        "description": "Sends OTP via SMS to phone number for verification",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fullName",
                  "email",
                  "phoneNumber",
                  "password",
                  "confirmPassword"
                ],
                "properties": {
                  "fullName": {
                    "type": "string",
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john@example.com"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "example": "+917397695334"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "password123"
                  },
                  "confirmPassword": {
                    "type": "string",
                    "example": "password123"
                  },
                  "referredBy": {
                    "type": "string",
                    "description": "Optional referral code",
                    "example": "ABC123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "OTP sent to your phone number ✅"
                    },
                    "phoneNumber": {
                      "type": "string",
                      "example": "+917397695334"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or user already exists"
          },
          "500": {
            "description": "Failed to send OTP"
          }
        }
      }
    },
    "/customer/verifyOTP": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Step 2: Verify OTP and create account",
        "description": "Verifies OTP and creates customer account. Returns accessToken and refreshToken (NO customToken)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phoneNumber",
                  "otp"
                ],
                "properties": {
                  "phoneNumber": {
                    "type": "string",
                    "example": "+917397695334"
                  },
                  "otp": {
                    "type": "string",
                    "example": "1234"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User registered successfully ✅"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "example": "692fe5d13778bddc8364a45d"
                        },
                        "fullName": {
                          "type": "string",
                          "example": "John Doe"
                        },
                        "email": {
                          "type": "string",
                          "example": "john@example.com"
                        },
                        "phoneNumber": {
                          "type": "string",
                          "example": "+917397695334"
                        },
                        "referralCode": {
                          "type": "string",
                          "example": "JOHN123"
                        }
                      }
                    },
                    "accessToken": {
                      "type": "string",
                      "description": "JWT access token",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "refreshToken": {
                      "type": "string",
                      "description": "JWT refresh token",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid OTP or session expired"
          }
        }
      }
    },
    "/customer/login": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Customer login (email only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "john@example.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Login successful ✅"
                    },
                    "user": {
                      "type": "object"
                    },
                    "accessToken": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/customer/logout": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Logout customer",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Logged out successfully"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/customer/refreshToken": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Refresh access token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "refreshToken"
                ],
                "properties": {
                  "refreshToken": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Token refreshed successfully"
                    },
                    "accessToken": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/customer/forgotPassword": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Step 1: Request password reset OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emailOrPhone"
                ],
                "properties": {
                  "emailOrPhone": {
                    "type": "string",
                    "example": "john@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/customer/verifyResetOTP": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Step 2: Verify password reset OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emailOrPhone",
                  "otp"
                ],
                "properties": {
                  "emailOrPhone": {
                    "type": "string",
                    "example": "john@example.com"
                  },
                  "otp": {
                    "type": "string",
                    "example": "1234"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP verified successfully"
          },
          "400": {
            "description": "Invalid or expired OTP"
          }
        }
      }
    },
    "/customer/resetPassword": {
      "post": {
        "tags": [
          "Customer"
        ],
        "summary": "Step 3: Reset password",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emailOrPhone",
                  "newPassword",
                  "confirmPassword"
                ],
                "properties": {
                  "emailOrPhone": {
                    "type": "string",
                    "example": "john@example.com"
                  },
                  "newPassword": {
                    "type": "string",
                    "minLength": 6,
                    "example": "newpass123"
                  },
                  "confirmPassword": {
                    "type": "string",
                    "example": "newpass123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successfully"
          },
          "400": {
            "description": "Passwords do not match or session expired"
          }
        }
      }
    },
    "/customer/getAllUsers": {
      "get": {
        "tags": [
          "Customer"
        ],
        "summary": "Get all customers",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Users fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Users fetched successfully ✅"
                    },
                    "count": {
                      "type": "integer",
                      "example": 10
                    },
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Customer"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/customer/getUserById/{id}": {
      "get": {
        "tags": [
          "Customer"
        ],
        "summary": "Get customer by ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "692fe5d13778bddc8364a45d"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/Customer"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/customer/updateProfile/{id}": {
      "put": {
        "tags": [
          "Customer"
        ],
        "summary": "Update customer profile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "692fe5d13778bddc8364a45d"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "fullName": {
                    "type": "string",
                    "example": "John Doe Updated"
                  },
                  "email": {
                    "type": "string",
                    "example": "john.updated@example.com"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "example": "+917397695334"
                  },
                  "street": {
                    "type": "string",
                    "example": "123 Main Street"
                  },
                  "city": {
                    "type": "string",
                    "example": "Chennai"
                  },
                  "pincode": {
                    "type": "string",
                    "example": "600001"
                  },
                  "maxCars": {
                    "type": "number",
                    "example": 2
                  },
                  "location": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "example": "Point"
                      },
                      "coordinates": {
                        "type": "array",
                        "items": {
                          "type": "number"
                        },
                        "example": [
                          80.2707,
                          13.0827
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Profile updated successfully ✅"
                    },
                    "user": {
                      "$ref": "#/components/schemas/Customer"
                    },
                    "address": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/customer/deleteUser/{id}": {
      "delete": {
        "tags": [
          "Customer"
        ],
        "summary": "Delete customer",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "692fe5d13778bddc8364a45d"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User deleted successfully ✅"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/admin/login": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Admin login",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@example.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "admin123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminAuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Incorrect password"
          },
          "403": {
            "description": "Account deactivated"
          },
          "404": {
            "description": "Admin not found"
          }
        }
      }
    },
    "/admin/register": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Register new admin (SuperAdmin only)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fullName",
                  "email",
                  "password"
                ],
                "properties": {
                  "fullName": {
                    "type": "string",
                    "example": "Admin User"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "newadmin@example.com"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "admin123"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "admin",
                      "superadmin"
                    ],
                    "example": "admin"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Admin created successfully"
          },
          "400": {
            "description": "Email already exists"
          },
          "403": {
            "description": "Only SuperAdmin can create SuperAdmin"
          }
        }
      }
    },
    "/admin/profile": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get admin profile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profile fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Admin"
                }
              }
            }
          }
        }
      }
    },
    "/admin/getAllAdmins": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get all admins (SuperAdmin only)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Admins fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "count": {
                      "type": "integer"
                    },
                    "admins": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Admin"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/deleteAdmin/{id}": {
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "Delete admin (SuperAdmin only)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Admin deleted successfully"
          },
          "400": {
            "description": "Cannot delete self"
          },
          "404": {
            "description": "Admin not found"
          }
        }
      }
    },
    "/admin/refresh-token": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Refresh access token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "refreshToken"
                ],
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully"
          }
        }
      }
    },
    "/admin/request-password-reset": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Step 1: Request password reset OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully"
          },
          "403": {
            "description": "Account is deactivated"
          },
          "404": {
            "description": "Admin not found"
          }
        }
      }
    },
    "/admin/verify-otp": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Step 2: Verify OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "otp"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@example.com"
                  },
                  "otp": {
                    "type": "string",
                    "example": "123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP verified successfully"
          },
          "400": {
            "description": "Invalid or expired OTP"
          }
        }
      }
    },
    "/admin/reset-password": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Step 3: Reset password with OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "otp",
                  "newPassword"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@example.com"
                  },
                  "otp": {
                    "type": "string",
                    "example": "123456"
                  },
                  "newPassword": {
                    "type": "string",
                    "minLength": 6,
                    "example": "newpass123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successfully"
          },
          "400": {
            "description": "Invalid OTP or password too short"
          }
        }
      }
    },
    "/admin/resend-otp": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Resend OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "New OTP sent successfully"
          },
          "404": {
            "description": "Admin not found"
          }
        }
      }
    },
    "/admin/logout": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Logout admin",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logout successful"
          }
        }
      }
    },
    "/admin/profile": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get admin profile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profile fetched successfully"
          }
        }
      }
    },
    "/partner/register": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Step 1: Register partner and send OTP",
        "description": "Sends OTP via SMS for partner registration",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fullName",
                  "email",
                  "phoneNumber",
                  "password",
                  "confirmPassword",
                  "role"
                ],
                "properties": {
                  "fullName": {
                    "type": "string",
                    "example": "Alex Thompson"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "alex@example.com"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "example": "+917397695334"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "password123"
                  },
                  "confirmPassword": {
                    "type": "string",
                    "example": "password123"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "Washing Personnel",
                      "Delivery Person",
                      "Repair Service Technician",
                      "Product Seller"
                    ],
                    "example": "Product Seller"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date",
                    "example": "1990-05-15"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "Male",
                      "Female",
                      "Other"
                    ],
                    "example": "Male"
                  },
                  "referredBy": {
                    "type": "string",
                    "example": "ABC123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "OTP sent to your phone number ✅"
                    },
                    "phoneNumber": {
                      "type": "string",
                      "example": "+917397695334"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or partner already exists"
          }
        }
      }
    },
    "/partner/verifyRegistrationOTP": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Step 2: Verify OTP and create partner account",
        "description": "Verifies OTP and creates partner account with basic info. Returns accessToken and refreshToken (NO customToken) to complete profile.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phoneNumber",
                  "otp"
                ],
                "properties": {
                  "phoneNumber": {
                    "type": "string",
                    "example": "+917397695334"
                  },
                  "otp": {
                    "type": "string",
                    "example": "1234"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Partner registered successfully, use tokens to complete profile",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Registration successful! ✅ Please complete your profile."
                    },
                    "partner": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "example": "692ff8696496b01c810ffd89"
                        },
                        "fullName": {
                          "type": "string",
                          "example": "Alex Thompson"
                        },
                        "email": {
                          "type": "string",
                          "example": "alex@example.com"
                        },
                        "phoneNumber": {
                          "type": "string",
                          "example": "+917397695334"
                        },
                        "role": {
                          "type": "string",
                          "example": "Product Seller"
                        },
                        "referralCode": {
                          "type": "string",
                          "example": "ALEX123"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": false,
                          "description": "Pending admin approval"
                        },
                        "profileComplete": {
                          "type": "boolean",
                          "example": false
                        }
                      }
                    },
                    "accessToken": {
                      "type": "string",
                      "description": "Use this token in Authorization header for completeProfile",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "refreshToken": {
                      "type": "string",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "nextStep": {
                      "type": "string",
                      "example": "Complete your profile with address, vehicle/shop, and payout details"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid OTP or session expired"
          }
        }
      }
    },
    "/partner/completeProfile/{id}": {
      "put": {
        "tags": [
          "Partner"
        ],
        "summary": "Step 3: Complete partner profile",
        "description": "Complete profile after registration. Response includes productId/sellerId for Product Sellers and serviceId/technicianId for Repair Technicians. Requires authentication token from Step 2.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Partner ID from registration response",
            "schema": {
              "type": "string",
              "example": "692ff8696496b01c810ffd89"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartnerProfileUpdate"
              },
              "examples": {
                "productSeller": {
                  "summary": "Product Seller Profile",
                  "value": {
                    "address": {
                      "street": "56, NSC Bose Road",
                      "city": "Chennai",
                      "state": "Tamil Nadu",
                      "postalCode": "600079",
                      "country": "India",
                      "location": {
                        "coordinates": [
                          80.2707,
                          13.0827
                        ]
                      }
                    },
                    "shopDetails": {
                      "shopName": "Anand Auto Parts",
                      "shopType": "Auto Parts Store",
                      "shopAddress": "56, NSC Bose Road, Chennai",
                      "location": {
                        "coordinates": [
                          80.2707,
                          13.0827
                        ]
                      },
                      "shopImages": [
                        "shop1.jpg",
                        "shop2.jpg"
                      ]
                    },
                    "products": [
                      {
                        "productImage": "engine_oil.jpg",
                        "productTitle": "Castrol GTX Engine Oil 5W-30",
                        "productDescription": "High-performance synthetic engine oil",
                        "unitPrice": 2499,
                        "stockQuantity": 50
                      },
                      {
                        "productImage": "brake_pads.jpg",
                        "productTitle": "Bosch Brake Pads",
                        "productDescription": "Premium brake pads for all vehicles",
                        "unitPrice": 1899,
                        "stockQuantity": 30
                      }
                    ],
                    "payoutDetails": {
                      "accountHolderName": "Anand Kumar",
                      "accountNumber": "123456789012",
                      "ifscCode": "SBIN0001234",
                      "idProof": "aadhar.jpg",
                      "termsAccepted": true
                    }
                  }
                },
                "repairTechnician": {
                  "summary": "Repair Technician Profile",
                  "value": {
                    "address": {
                      "street": "12, Anna Salai",
                      "city": "Chennai",
                      "state": "Tamil Nadu",
                      "postalCode": "600002",
                      "country": "India",
                      "location": {
                        "coordinates": [
                          80.2707,
                          13.0827
                        ]
                      }
                    },
                    "shopDetails": {
                      "shopName": "Kumar Auto Repairs",
                      "shopType": "Auto Repair Shop",
                      "shopAddress": "12, Anna Salai, Chennai",
                      "location": {
                        "coordinates": [
                          80.2707,
                          13.0827
                        ]
                      },
                      "shopImages": [
                        "shop1.jpg"
                      ]
                    },
                    "services": [
                      {
                        "serviceImage": "engine_repair.jpg",
                        "serviceName": "Engine Repair",
                        "description": "Complete engine overhaul and repair",
                        "minPrice": 5000,
                        "maxPrice": 50000
                      },
                      {
                        "serviceImage": "brake_service.jpg",
                        "serviceName": "Brake Service",
                        "description": "Brake pad replacement and fluid change",
                        "minPrice": 2000,
                        "maxPrice": 10000
                      }
                    ],
                    "yearsOfExperience": 10,
                    "specializations": [
                      "Engine Repair",
                      "Brake Systems"
                    ],
                    "certifications": [
                      "ASE Certified"
                    ],
                    "payoutDetails": {
                      "accountHolderName": "Kumar Raj",
                      "accountNumber": "987654321098",
                      "ifscCode": "HDFC0001234",
                      "termsAccepted": true
                    }
                  }
                },
                "washingPersonnel": {
                  "summary": "Washing Personnel Profile",
                  "value": {
                    "address": {
                      "street": "34, Mount Road",
                      "city": "Chennai",
                      "state": "Tamil Nadu",
                      "postalCode": "600006",
                      "country": "India",
                      "location": {
                        "coordinates": [
                          80.2707,
                          13.0827
                        ]
                      }
                    },
                    "serviceCategories": [
                      "Exterior Wash",
                      "Interior Cleaning",
                      "Engine Bay Cleaning"
                    ],
                    "vehicleDetails": {
                      "vehicleType": "Bike",
                      "vehicleModel": "Honda Activa",
                      "licensePlate": "TN01AB1234",
                      "registrationCertificate": "rc.jpg",
                      "drivingLicense": "dl.jpg"
                    },
                    "payoutDetails": {
                      "accountHolderName": "Ravi Kumar",
                      "accountNumber": "456789123456",
                      "ifscCode": "ICIC0001234",
                      "termsAccepted": true
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile completed successfully, pending admin approval",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/ProductSellerProfileResponse"
                    },
                    {
                      "$ref": "#/components/schemas/RepairTechnicianProfileResponse"
                    },
                    {
                      "$ref": "#/components/schemas/GenericProfileResponse"
                    }
                  ]
                },
                "examples": {
                  "productSellerResponse": {
                    "summary": "Product Seller Profile Completed",
                    "value": {
                      "message": "Profile completed successfully! ✅ Your account is pending admin approval.",
                      "partner": {
                        "id": "692ff8696496b01c810ffd89",
                        "fullName": "Anand Kumar",
                        "email": "anand@example.com",
                        "phoneNumber": "+917397695334",
                        "role": "Product Seller",
                        "referralCode": "ANAND123",
                        "isActive": false,
                        "profileComplete": true
                      },
                      "products": [
                        {
                          "productId": "675d1e2f3a4b5c6789012345",
                          "sellerId": "692ff8696496b01c810ffd89",
                          "productImage": "engine_oil.jpg",
                          "productTitle": "Castrol GTX Engine Oil 5W-30",
                          "productDescription": "High-performance synthetic engine oil",
                          "unitPrice": 2499,
                          "stockQuantity": 50
                        },
                        {
                          "productId": "675e2f3a4b5c6789012346",
                          "sellerId": "692ff8696496b01c810ffd89",
                          "productImage": "brake_pads.jpg",
                          "productTitle": "Bosch Brake Pads",
                          "productDescription": "Premium brake pads for all vehicles",
                          "unitPrice": 1899,
                          "stockQuantity": 30
                        }
                      ],
                      "summary": {
                        "totalProducts": 2,
                        "sellerId": "692ff8696496b01c810ffd89",
                        "sellerName": "Anand Kumar"
                      },
                      "note": "Products added successfully! You can login after admin approval."
                    }
                  },
                  "repairTechnicianResponse": {
                    "summary": "Repair Technician Profile Completed",
                    "value": {
                      "message": "Profile completed successfully! ✅ Your account is pending admin approval.",
                      "partner": {
                        "id": "693ab8796496b01c810ffd90",
                        "fullName": "Kumar Raj",
                        "email": "kumar@example.com",
                        "phoneNumber": "+919876543210",
                        "role": "Repair Service Technician",
                        "referralCode": "KUMAR123",
                        "isActive": false,
                        "profileComplete": true
                      },
                      "services": [
                        {
                          "serviceId": "675f3a4b5c6789012347",
                          "technicianId": "693ab8796496b01c810ffd90",
                          "serviceImage": "engine_repair.jpg",
                          "serviceName": "Engine Repair",
                          "description": "Complete engine overhaul and repair",
                          "minPrice": 5000,
                          "maxPrice": 50000
                        },
                        {
                          "serviceId": "675f3a4b5c6789012348",
                          "technicianId": "693ab8796496b01c810ffd90",
                          "serviceImage": "brake_service.jpg",
                          "serviceName": "Brake Service",
                          "description": "Brake pad replacement and fluid change",
                          "minPrice": 2000,
                          "maxPrice": 10000
                        }
                      ],
                      "summary": {
                        "totalServices": 2,
                        "technicianId": "693ab8796496b01c810ffd90",
                        "technicianName": "Kumar Raj"
                      },
                      "note": "You can login after admin approval"
                    }
                  },
                  "washingPersonnelResponse": {
                    "summary": "Washing Personnel Profile Completed",
                    "value": {
                      "message": "Profile completed successfully! ✅ Your account is pending admin approval.",
                      "partner": {
                        "id": "694bc9807496b01c810ffd91",
                        "fullName": "Ravi Kumar",
                        "email": "ravi@example.com",
                        "phoneNumber": "+918765432109",
                        "role": "Washing Personnel",
                        "referralCode": "RAVI123",
                        "isActive": false,
                        "profileComplete": true
                      },
                      "note": "You can login after admin approval"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token"
          },
          "404": {
            "description": "Partner not found"
          }
        }
      }
    },
    "/partner/login": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Partner login - EMAIL ONLY",
        "description": "Login with email and password (NO phone number)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "alex@example.com",
                    "description": "Partner email address"
                  },
                  "password": {
                    "type": "string",
                    "example": "password123",
                    "description": "Partner password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Login successful ✅"
                    },
                    "partner": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "example": "692ff8696496b01c810ffd89"
                        },
                        "fullName": {
                          "type": "string",
                          "example": "Anand Kumar"
                        },
                        "email": {
                          "type": "string",
                          "example": "anand@example.com"
                        },
                        "phoneNumber": {
                          "type": "string",
                          "example": "+917397695334"
                        },
                        "role": {
                          "type": "string",
                          "example": "Product Seller"
                        },
                        "referralCode": {
                          "type": "string",
                          "example": "ANAND123"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    },
                    "accessToken": {
                      "type": "string",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "description": "JWT access token - valid for 1 day"
                    },
                    "refreshToken": {
                      "type": "string",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "description": "JWT refresh token - valid for 7 days"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Email/password required or incorrect password"
          },
          "403": {
            "description": "Account not verified or not activated by admin"
          },
          "404": {
            "description": "Partner not found"
          }
        }
      }
    },
    "/partner/logout": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Logout partner and blacklist token",
        "description": "Invalidates the current access token and optional refresh token by adding them to a blacklist",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "description": "Optional: Refresh token to blacklist",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Logout successful ✅"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "No token provided"
          },
          "401": {
            "description": "Invalid or expired token"
          }
        }
      }
    },
    "/partner/forgotPassword": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Step 1: Request password reset OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emailOrPhone"
                ],
                "properties": {
                  "emailOrPhone": {
                    "type": "string",
                    "example": "alex@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully"
          },
          "404": {
            "description": "Partner not found"
          }
        }
      }
    },
    "/partner/verifyResetOTP": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Step 2: Verify password reset OTP",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emailOrPhone",
                  "otp"
                ],
                "properties": {
                  "emailOrPhone": {
                    "type": "string"
                  },
                  "otp": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP verified successfully"
          }
        }
      }
    },
    "/partner/resetPassword": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Step 3: Reset password",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emailOrPhone",
                  "newPassword",
                  "confirmPassword"
                ],
                "properties": {
                  "emailOrPhone": {
                    "type": "string"
                  },
                  "newPassword": {
                    "type": "string",
                    "minLength": 6
                  },
                  "confirmPassword": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successfully"
          }
        }
      }
    },
    "/partner/getAll": {
      "get": {
        "tags": [
          "Partner"
        ],
        "summary": "Get all partners",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "Washing Personnel",
                "Delivery Person",
                "Repair Service Technician",
                "Product Seller"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Partners fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "count": {
                      "type": "integer"
                    },
                    "partners": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Partner"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partner/toggleStatus/{id}": {
      "patch": {
        "tags": [
          "Partner"
        ],
        "summary": "Activate/Deactivate partner (Admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "isActive"
                ],
                "properties": {
                  "isActive": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Partner status updated"
          }
        }
      }
    },
    "/partner/getById/{id}": {
      "get": {
        "tags": [
          "Partner"
        ],
        "summary": "Get partner by ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Partner MongoDB ObjectId",
            "schema": {
              "type": "string",
              "example": "507f1f77bcf86cd799439011"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Partner fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Partner fetched successfully"
                    },
                    "partner": {
                      "$ref": "#/components/schemas/Partner"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID format"
          },
          "404": {
            "description": "Partner not found"
          }
        }
      }
    },
    "/partner/updateProfile/{id}": {
      "put": {
        "tags": [
          "Partner"
        ],
        "summary": "Update partner profile (for editing existing profile)",
        "description": "Use this to update any field except password and role",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Partner MongoDB ObjectId",
            "schema": {
              "type": "string",
              "example": "507f1f77bcf86cd799439011"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartnerProfileUpdate"
              },
              "examples": {
                "updateAddress": {
                  "summary": "Update address only",
                  "value": {
                    "address": {
                      "street": "New Street",
                      "city": "Chennai",
                      "state": "Tamil Nadu",
                      "postalCode": "600001",
                      "country": "India",
                      "location": {
                        "coordinates": [
                          80.2707,
                          13.0827
                        ]
                      }
                    }
                  }
                },
                "addService": {
                  "summary": "Add new service (Technician)",
                  "value": {
                    "services": [
                      {
                        "serviceImage": "uploads/new_service.jpg",
                        "serviceName": "Tire Replacement",
                        "description": "Complete tire change service",
                        "minPrice": 500,
                        "maxPrice": 3000
                      }
                    ]
                  }
                },
                "updatePayout": {
                  "summary": "Update payout details",
                  "value": {
                    "payoutDetails": {
                      "accountHolderName": "John Doe",
                      "accountNumber": "1234567890",
                      "ifscCode": "ICIC0001234",
                      "termsAccepted": true
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Partner updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Partner updated successfully"
                    },
                    "partner": {
                      "$ref": "#/components/schemas/Partner"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID format"
          },
          "404": {
            "description": "Partner not found"
          }
        }
      }
    },
    "/partner/delete/{id}": {
      "delete": {
        "tags": [
          "Partner"
        ],
        "summary": "Delete partner account",
        "description": "Permanently delete a partner account (Admin only)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Partner MongoDB ObjectId",
            "schema": {
              "type": "string",
              "example": "507f1f77bcf86cd799439011"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Partner deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Partner deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID format"
          },
          "404": {
            "description": "Partner not found"
          }
        }
      }
    },
    "/partner/refreshToken": {
      "post": {
        "tags": [
          "Partner"
        ],
        "summary": "Refresh access token",
        "description": "Get new access token using refresh token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "refreshToken"
                ],
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Token refreshed successfully"
                    },
                    "accessToken": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired refresh token"
          }
        }
      }
    },
    "/booking/services": {
      "get": {
        "tags": [
          "Booking"
        ],
        "summary": "Get available services",
        "description": "Fetch all active services by type (Car Wash or Bike Wash)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "serviceType",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "Car Wash",
                "Bike Wash"
              ]
            },
            "example": "Car Wash"
          }
        ],
        "responses": {
          "200": {
            "description": "Services fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Car Wash services fetched"
                    },
                    "serviceType": {
                      "type": "string",
                      "example": "Car Wash"
                    },
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "serviceName": {
                            "type": "string",
                            "example": "Standard Wash"
                          },
                          "serviceType": {
                            "type": "string",
                            "example": "Car Wash"
                          },
                          "price": {
                            "type": "number",
                            "example": 700
                          },
                          "features": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "expressServiceAvailable": {
                            "type": "boolean",
                            "example": true
                          },
                          "expressFee": {
                            "type": "number",
                            "example": 100
                          },
                          "duration": {
                            "type": "string",
                            "example": "45 mins"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer",
                      "example": 3
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/booking/calculate-cost": {
      "post": {
        "tags": [
          "Booking"
        ],
        "summary": "Calculate booking cost (Optional preview)",
        "description": "Preview cost with express service and optional coupon",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "serviceId"
                ],
                "properties": {
                  "serviceId": {
                    "type": "string",
                    "example": "64abc123def456..."
                  },
                  "expressService": {
                    "type": "boolean",
                    "example": true
                  },
                  "couponCode": {
                    "type": "string",
                    "example": "SAVE20"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cost calculated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Cost calculated"
                    },
                    "service": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string",
                          "example": "Standard Wash"
                        },
                        "type": {
                          "type": "string",
                          "example": "Car Wash"
                        },
                        "price": {
                          "type": "number",
                          "example": 700
                        }
                      }
                    },
                    "pricing": {
                      "type": "object",
                      "properties": {
                        "subtotal": {
                          "type": "number",
                          "example": 700
                        },
                        "expressFee": {
                          "type": "number",
                          "example": 100
                        },
                        "discount": {
                          "type": "number",
                          "example": 160
                        },
                        "total": {
                          "type": "number",
                          "example": 640
                        },
                        "advancePaymentRequired": {
                          "type": "number",
                          "example": 192
                        },
                        "balancePayment": {
                          "type": "number",
                          "example": 448
                        }
                      }
                    },
                    "expressService": {
                      "type": "boolean",
                      "example": true
                    },
                    "showDateTime": {
                      "type": "boolean",
                      "example": false,
                      "description": "Show date/time picker when express is OFF (false = express ON, true = express OFF)"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/booking/create": {
      "post": {
        "tags": [
          "Booking"
        ],
        "summary": "Create booking (Step 1)",
        "description": "Create booking without payment. Express service logic: ON = date/time OPTIONAL, OFF = date/time REQUIRED",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customerId",
                  "serviceId",
                  "vehicleType",
                  "address"
                ],
                "properties": {
                  "customerId": {
                    "type": "string",
                    "example": "64cust..."
                  },
                  "serviceId": {
                    "type": "string",
                    "example": "64serv..."
                  },
                  "vehicleType": {
                    "type": "string",
                    "enum": [
                      "Car",
                      "Bike"
                    ],
                    "example": "Car"
                  },
                  "vehicleNumber": {
                    "type": "string",
                    "example": "TN01AB1234"
                  },
                  "address": {
                    "type": "object",
                    "required": [
                      "street",
                      "city",
                      "pincode"
                    ],
                    "properties": {
                      "street": {
                        "type": "string",
                        "example": "123 Main St"
                      },
                      "city": {
                        "type": "string",
                        "example": "Chennai"
                      },
                      "pincode": {
                        "type": "string",
                        "example": "600001"
                      }
                    }
                  },
                  "liveLocation": {
                    "type": "object",
                    "description": "Current GPS location (Optional)",
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "example": 13.0827
                      },
                      "longitude": {
                        "type": "number",
                        "example": 80.2707
                      },
                      "address": {
                        "type": "string",
                        "example": "123 Main St, Chennai"
                      }
                    }
                  },
                  "expressService": {
                    "type": "boolean",
                    "example": false,
                    "description": "If false, scheduledDate & scheduledTime are REQUIRED. If true, they are OPTIONAL."
                  },
                  "scheduledDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-06-15",
                    "description": "REQUIRED if expressService = false"
                  },
                  "scheduledTime": {
                    "type": "string",
                    "example": "09:00 AM",
                    "description": "REQUIRED if expressService = false"
                  },
                  "timeSlot": {
                    "type": "string",
                    "enum": [
                      "Morning",
                      "Afternoon",
                      "Evening"
                    ],
                    "example": "Morning"
                  },
                  "specialInstructions": {
                    "type": "string",
                    "example": "Call before arriving"
                  }
                }
              },
              "examples": {
                "expressService": {
                  "summary": "Express Service (Date/Time Optional)",
                  "value": {
                    "customerId": "64cust...",
                    "serviceId": "64serv...",
                    "vehicleType": "Car",
                    "vehicleNumber": "TN01AB1234",
                    "address": {
                      "street": "123 Main St",
                      "city": "Chennai",
                      "pincode": "600001"
                    },
                    "liveLocation": {
                      "latitude": 13.0827,
                      "longitude": 80.2707,
                      "address": "123 Main St, Chennai"
                    },
                    "expressService": true
                  }
                },
                "regularBooking": {
                  "summary": "Regular Booking (Date/Time Required)",
                  "value": {
                    "customerId": "64cust...",
                    "serviceId": "64serv...",
                    "vehicleType": "Car",
                    "vehicleNumber": "TN01AB1234",
                    "address": {
                      "street": "123 Main St",
                      "city": "Chennai",
                      "pincode": "600001"
                    },
                    "liveLocation": {
                      "latitude": 13.0827,
                      "longitude": 80.2707
                    },
                    "expressService": false,
                    "scheduledDate": "2025-06-15",
                    "scheduledTime": "09:00 AM",
                    "timeSlot": "Morning"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created - Proceed to payment",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Booking created! Please complete payment."
                    },
                    "booking": {
                      "type": "object",
                      "properties": {
                        "bookingId": {
                          "type": "string",
                          "example": "#123456"
                        },
                        "_id": {
                          "type": "string",
                          "example": "64book..."
                        },
                        "serviceType": {
                          "type": "string",
                          "example": "Car Wash"
                        },
                        "serviceName": {
                          "type": "string",
                          "example": "Standard Wash"
                        },
                        "vehicleType": {
                          "type": "string",
                          "example": "Car"
                        },
                        "vehicleNumber": {
                          "type": "string",
                          "example": "TN01AB1234"
                        },
                        "scheduledDate": {
                          "type": "string",
                          "example": "2025-06-15T00:00:00.000Z"
                        },
                        "scheduledTime": {
                          "type": "string",
                          "example": "09:00 AM"
                        },
                        "liveLocation": {
                          "type": "object",
                          "properties": {
                            "latitude": {
                              "type": "number",
                              "example": 13.0827
                            },
                            "longitude": {
                              "type": "number",
                              "example": 80.2707
                            },
                            "address": {
                              "type": "string",
                              "example": "123 Main St, Chennai"
                            }
                          }
                        },
                        "status": {
                          "type": "string",
                          "example": "Pending"
                        },
                        "paymentStatus": {
                          "type": "string",
                          "example": "Pending"
                        },
                        "pricing": {
                          "type": "object",
                          "properties": {
                            "subtotal": {
                              "type": "number",
                              "example": 700
                            },
                            "expressFee": {
                              "type": "number",
                              "example": 100
                            },
                            "discount": {
                              "type": "number",
                              "example": 0
                            },
                            "total": {
                              "type": "number",
                              "example": 800
                            },
                            "advanceRequired": {
                              "type": "number",
                              "example": 240
                            },
                            "balanceDue": {
                              "type": "number",
                              "example": 560
                            }
                          }
                        },
                        "qrCode": {
                          "type": "string",
                          "example": "data:image/png;base64..."
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "nextStep": {
                      "type": "object",
                      "properties": {
                        "action": {
                          "type": "string",
                          "example": "Complete payment"
                        },
                        "endpoint": {
                          "type": "string",
                          "example": "/api/booking/64book.../pay-advance"
                        },
                        "amount": {
                          "type": "number",
                          "example": 240
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation errors",
            "content": {
              "application/json": {
                "examples": {
                  "missingDateTime": {
                    "summary": "Regular booking without date/time",
                    "value": {
                      "message": "Date and time required for regular booking"
                    }
                  },
                  "expressNotAvailable": {
                    "summary": "Express service not available",
                    "value": {
                      "message": "Express service not available for this package"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/booking/{id}/pay-advance": {
      "post": {
        "tags": [
          "Booking"
        ],
        "summary": "Make advance payment (Step 2)",
        "description": "Pay advance with optional coupon. Returns complete booking summary.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Booking ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "paymentMethod",
                  "advancePayment"
                ],
                "properties": {
                  "paymentMethod": {
                    "type": "string",
                    "enum": [
                      "UPI",
                      "Debit Card",
                      "Credit Card",
                      "Net Banking",
                      "Wallet Balance"
                    ],
                    "example": "UPI"
                  },
                  "advancePayment": {
                    "type": "number",
                    "example": 240
                  },
                  "couponCode": {
                    "type": "string",
                    "example": "SAVE20",
                    "description": "Optional coupon code"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment successful - Complete booking summary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Payment successful! ✅"
                    },
                    "bookingSummary": {
                      "type": "object",
                      "properties": {
                        "bookingId": {
                          "type": "string",
                          "example": "#123456"
                        },
                        "_id": {
                          "type": "string",
                          "example": "64book..."
                        },
                        "status": {
                          "type": "string",
                          "example": "Pending"
                        },
                        "paymentStatus": {
                          "type": "string",
                          "example": "Pending"
                        },
                        "service": {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "example": "Car Wash"
                            },
                            "name": {
                              "type": "string",
                              "example": "Standard Wash"
                            },
                            "features": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "Exterior soap wash",
                                "Interior vacuum",
                                "Dashboard cleaning"
                              ]
                            }
                          }
                        },
                        "vehicle": {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "example": "Car"
                            },
                            "number": {
                              "type": "string",
                              "example": "TN01AB1234"
                            }
                          },
                          "description": "Note: vehicleModel field removed"
                        },
                        "schedule": {
                          "type": "object",
                          "properties": {
                            "date": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-06-15T00:00:00.000Z"
                            },
                            "time": {
                              "type": "string",
                              "example": "09:00 AM"
                            },
                            "timeSlot": {
                              "type": "string",
                              "example": "Morning"
                            },
                            "expressService": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        },
                        "address": {
                          "type": "object",
                          "properties": {
                            "street": {
                              "type": "string",
                              "example": "123 Main Street"
                            },
                            "city": {
                              "type": "string",
                              "example": "Chennai"
                            },
                            "pincode": {
                              "type": "string",
                              "example": "600001"
                            }
                          }
                        },
                        "liveLocation": {
                          "type": "object",
                          "description": "GPS location (if provided)",
                          "properties": {
                            "latitude": {
                              "type": "number",
                              "example": 13.0827
                            },
                            "longitude": {
                              "type": "number",
                              "example": 80.2707
                            },
                            "address": {
                              "type": "string",
                              "example": "123 Main St, Chennai"
                            }
                          }
                        },
                        "pricing": {
                          "type": "object",
                          "properties": {
                            "subtotal": {
                              "type": "number",
                              "example": 700
                            },
                            "expressFee": {
                              "type": "number",
                              "example": 100
                            },
                            "discount": {
                              "type": "number",
                              "example": 160
                            },
                            "couponCode": {
                              "type": "string",
                              "example": "SAVE20"
                            },
                            "total": {
                              "type": "number",
                              "example": 640
                            },
                            "advancePaid": {
                              "type": "number",
                              "example": 240
                            },
                            "balanceDue": {
                              "type": "number",
                              "example": 400
                            }
                          }
                        },
                        "payment": {
                          "type": "object",
                          "properties": {
                            "method": {
                              "type": "string",
                              "example": "UPI"
                            },
                            "paidAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "qrCode": {
                          "type": "string",
                          "example": "data:image/png;base64..."
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "note": {
                      "type": "string",
                      "example": "Payment successful! Balance of ₹400 after service."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation errors",
            "content": {
              "application/json": {
                "examples": {
                  "invalidCoupon": {
                    "summary": "Invalid coupon",
                    "value": {
                      "message": "Invalid or expired coupon code"
                    }
                  },
                  "insufficientPayment": {
                    "summary": "Insufficient payment",
                    "value": {
                      "message": "Minimum advance payment of ₹240 required",
                      "requiredAdvance": 240,
                      "providedAdvance": 200
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/booking/{id}/pay-balance": {
      "post": {
        "tags": [
          "Booking"
        ],
        "summary": "Make balance payment (After service)",
        "description": "Pay remaining balance after service completion",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "paymentMethod",
                  "balancePayment"
                ],
                "properties": {
                  "paymentMethod": {
                    "type": "string",
                    "enum": [
                      "UPI",
                      "Cash",
                      "Debit Card",
                      "Credit Card",
                      "Net Banking"
                    ],
                    "example": "Cash"
                  },
                  "balancePayment": {
                    "type": "number",
                    "example": 400
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Balance payment successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Balance payment successful! ✅"
                    },
                    "booking": {
                      "type": "object",
                      "properties": {
                        "bookingId": {
                          "type": "string",
                          "example": "#123456"
                        },
                        "paymentStatus": {
                          "type": "string",
                          "example": "Paid"
                        },
                        "totalPaid": {
                          "type": "number",
                          "example": 640
                        },
                        "balanceDue": {
                          "type": "number",
                          "example": 0
                        }
                      }
                    },
                    "note": {
                      "type": "string",
                      "example": "Thank you! Please rate your experience."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/booking/my-bookings": {
      "get": {
        "tags": [
          "Booking"
        ],
        "summary": "Get customer's bookings",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Bookings fetched successfully"
          }
        }
      }
    },
    "/booking/{id}": {
      "get": {
        "tags": [
          "Booking"
        ],
        "summary": "Get booking by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Booking ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Booking details"
          },
          "404": {
            "description": "Booking not found"
          }
        }
      }
    },
    "/booking/{id}/cancel": {
      "put": {
        "tags": [
          "Booking"
        ],
        "summary": "Cancel booking (Customer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cancellationReason": {
                    "type": "string",
                    "example": "Changed plans"
                  },
                  "cancelledBy": {
                    "type": "string",
                    "enum": [
                      "Customer",
                      "Partner",
                      "Admin"
                    ],
                    "example": "Customer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking cancelled"
          }
        }
      }
    },
    "/booking/partner/scheduled": {
      "get": {
        "tags": [
          "Booking"
        ],
        "summary": "Get partner's scheduled jobs",
        "description": "Get all active bookings assigned to the partner (Washing Personnel or Delivery Person)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled jobs fetched"
          }
        }
      }
    },
    "/booking/{id}/accept": {
      "put": {
        "tags": [
          "Booking"
        ],
        "summary": "Accept booking (Partner)",
        "description": "Partner accepts the booking assigned by admin",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking accepted"
          }
        }
      }
    },
    "/booking/{id}/decline": {
      "put": {
        "tags": [
          "Booking"
        ],
        "summary": "Decline booking (Partner)",
        "description": "Partner declines the booking. Admin will need to assign another partner.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "example": "Vehicle breakdown"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking declined"
          }
        }
      }
    },
    "/booking/{id}/update-status": {
      "put": {
        "tags": [
          "Booking"
        ],
        "summary": "Update booking status (Partner)",
        "description": "Partner updates status: On The Way → Arrived → In Progress → Completed",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "Washer On The Way",
                      "Washer Arrived",
                      "Washing in Progress",
                      "Completed"
                    ],
                    "example": "Washer On The Way"
                  },
                  "estimatedArrival": {
                    "type": "string",
                    "example": "10 minutes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated successfully"
          }
        }
      }
    },
    "/booking/admin/pending": {
      "get": {
        "tags": [
          "Booking"
        ],
        "summary": "Get pending bookings (Admin)",
        "description": "Get all bookings waiting for admin approval",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pending bookings fetched"
          }
        }
      }
    },
    "/booking/admin/{id}/approve": {
      "put": {
        "tags": [
          "Booking"
        ],
        "summary": "Approve booking (Admin)",
        "description": "Admin approves the booking. Status changes from 'Pending' to 'Confirmed'.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking approved"
          }
        }
      }
    },
    "/booking/admin/assign-partner": {
      "post": {
        "tags": [
          "Booking"
        ],
        "summary": "Manually assign partner (Admin)",
        "description": "Admin manually assigns a Washing Personnel or Delivery Person to the booking",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "bookingId",
                  "partnerId"
                ],
                "properties": {
                  "bookingId": {
                    "type": "string",
                    "example": "64abc123..."
                  },
                  "partnerId": {
                    "type": "string",
                    "example": "64def456..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Partner assigned successfully"
          }
        }
      }
    },
    "/booking/admin/all": {
      "get": {
        "tags": [
          "Booking"
        ],
        "summary": "Get all bookings (Admin)",
        "description": "Admin views all bookings with optional filters",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "Pending",
                "Confirmed",
                "Partner Accepted",
                "Partner Declined",
                "Washer On The Way",
                "Washer Arrived",
                "Washing in Progress",
                "Completed",
                "Cancelled"
              ]
            },
            "description": "Filter by booking status"
          },
          {
            "name": "serviceType",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "Car Wash",
                "Bike Wash"
              ]
            },
            "description": "Filter by service type"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All bookings fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "bookings": {
                      "type": "array"
                    },
                    "totalPages": {
                      "type": "number"
                    },
                    "currentPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/order/create": {
      "post": {
        "tags": [
          "Shopping"
        ],
        "summary": "Create product order (Customer)",
        "description": "Customer creates a shopping order. Backend validates products, checks stock, and calculates all totals (subtotal, shipping, discount, total). Status will be 'Pending' waiting for seller confirmation.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customerId",
                  "items",
                  "shippingAddress",
                  "paymentMethod"
                ],
                "properties": {
                  "customerId": {
                    "type": "string",
                    "example": "692fe5d13778bddc8364a45d"
                  },
                  "items": {
                    "type": "array",
                    "description": "Array of products to order. Backend fetches product details from database.",
                    "items": {
                      "type": "object",
                      "required": [
                        "productId",
                        "sellerId",
                        "quantity"
                      ],
                      "properties": {
                        "productId": {
                          "type": "string",
                          "description": "Product ID from browse API",
                          "example": "675d1e2f3a4b5c6789012345"
                        },
                        "sellerId": {
                          "type": "string",
                          "description": "Seller ID from browse API",
                          "example": "692ff8696496b01c810ffd89"
                        },
                        "quantity": {
                          "type": "number",
                          "description": "Quantity to order",
                          "example": 2
                        }
                      }
                    }
                  },
                  "shippingAddress": {
                    "type": "object",
                    "required": [
                      "street",
                      "city",
                      "pincode"
                    ],
                    "properties": {
                      "street": {
                        "type": "string",
                        "example": "123, Anna Nagar Main Road"
                      },
                      "unit": {
                        "type": "string",
                        "example": "Flat 5B, Tower A"
                      },
                      "city": {
                        "type": "string",
                        "example": "Chennai"
                      },
                      "pincode": {
                        "type": "string",
                        "example": "600040"
                      },
                      "location": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "Point"
                            ],
                            "example": "Point"
                          },
                          "coordinates": {
                            "type": "array",
                            "items": {
                              "type": "number"
                            },
                            "example": [
                              80.209,
                              13.085
                            ]
                          }
                        }
                      }
                    }
                  },
                  "paymentMethod": {
                    "type": "string",
                    "enum": [
                      "Cash",
                      "UPI",
                      "Card",
                      "Wallet"
                    ],
                    "example": "UPI"
                  },
                  "couponCode": {
                    "type": "string",
                    "description": "Optional coupon code. Backend validates and applies discount.",
                    "example": "SHOP500"
                  }
                }
              },
              "examples": {
                "single_product": {
                  "summary": "Single Product Order",
                  "value": {
                    "customerId": "692fe5d13778bddc8364a45d",
                    "items": [
                      {
                        "productId": "675d1e2f3a4b5c6789012345",
                        "sellerId": "692ff8696496b01c810ffd89",
                        "quantity": 2
                      }
                    ],
                    "shippingAddress": {
                      "street": "123, Anna Nagar Main Road",
                      "unit": "Flat 5B",
                      "city": "Chennai",
                      "pincode": "600040"
                    },
                    "paymentMethod": "UPI"
                  }
                },
                "multi_seller_with_coupon": {
                  "summary": "Multiple Products with Coupon",
                  "value": {
                    "customerId": "692fe5d13778bddc8364a45d",
                    "items": [
                      {
                        "productId": "675d1e2f3a4b5c6789012345",
                        "sellerId": "692ff8696496b01c810ffd89",
                        "quantity": 2
                      },
                      {
                        "productId": "675e2f3a4b5c6789012346",
                        "sellerId": "692ff8696496b01c810ffd89",
                        "quantity": 1
                      },
                      {
                        "productId": "675f3a4b5c6789012347",
                        "sellerId": "693ab8796496b01c810ffd90",
                        "quantity": 3
                      }
                    ],
                    "shippingAddress": {
                      "street": "456, Mount Road",
                      "city": "Chennai",
                      "pincode": "600002"
                    },
                    "paymentMethod": "Card",
                    "couponCode": "SHOP500"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order created successfully. Backend calculated all totals.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Order created successfully! ✅"
                    },
                    "order": {
                      "type": "object",
                      "properties": {
                        "orderId": {
                          "type": "string",
                          "example": "ORD1733319876543"
                        },
                        "customerId": {
                          "type": "string"
                        },
                        "customerName": {
                          "type": "string"
                        },
                        "customerEmail": {
                          "type": "string"
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "productId": {
                                "type": "string"
                              },
                              "sellerId": {
                                "type": "string"
                              },
                              "sellerName": {
                                "type": "string",
                                "example": "Anand Auto Parts"
                              },
                              "productImage": {
                                "type": "string"
                              },
                              "productTitle": {
                                "type": "string",
                                "example": "Castrol GTX Engine Oil"
                              },
                              "productDescription": {
                                "type": "string"
                              },
                              "unitPrice": {
                                "type": "number",
                                "example": 2499,
                                "description": "Price from database"
                              },
                              "quantity": {
                                "type": "number",
                                "example": 2
                              },
                              "subtotal": {
                                "type": "number",
                                "example": 4998
                              }
                            }
                          }
                        },
                        "shippingAddress": {
                          "type": "object"
                        },
                        "orderStatus": {
                          "type": "string",
                          "example": "Pending"
                        },
                        "paymentMethod": {
                          "type": "string",
                          "example": "UPI"
                        },
                        "subtotal": {
                          "type": "number",
                          "example": 4998,
                          "description": "⭐ Backend calculated"
                        },
                        "shippingCharges": {
                          "type": "number",
                          "example": 0,
                          "description": "⭐ Backend calculated (Free if >500, else ₹50)"
                        },
                        "discount": {
                          "type": "number",
                          "example": 0,
                          "description": "⭐ Backend calculated from coupon"
                        },
                        "couponCode": {
                          "type": "string"
                        },
                        "total": {
                          "type": "number",
                          "example": 4998,
                          "description": "⭐ Backend calculated final total"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "totalItems": {
                          "type": "number",
                          "example": 3
                        },
                        "uniqueSellers": {
                          "type": "number",
                          "example": 2
                        },
                        "stockUpdated": {
                          "type": "boolean",
                          "example": true
                        },
                        "notificationsSent": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    },
                    "note": {
                      "type": "string",
                      "example": "Order is pending seller confirmation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error",
            "content": {
              "application/json": {
                "examples": {
                  "missing_fields": {
                    "summary": "Missing required fields",
                    "value": {
                      "message": "Required: customerId, items, shippingAddress, paymentMethod"
                    }
                  },
                  "insufficient_stock": {
                    "summary": "Stock not available",
                    "value": {
                      "message": "Insufficient stock for Castrol Engine Oil. Available: 10"
                    }
                  },
                  "invalid_product": {
                    "summary": "Product not found",
                    "value": {
                      "message": "Product not found or seller invalid"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Customer not found"
          }
        }
      }
    },
    "/order/my-orders": {
      "get": {
        "tags": [
          "Shopping"
        ],
        "summary": "Get customer's orders",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Orders fetched"
          }
        }
      }
    },
    "/order/{id}": {
      "get": {
        "tags": [
          "Shopping"
        ],
        "summary": "Get order by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Order details"
          }
        }
      }
    },
    "/order/{id}/cancel": {
      "put": {
        "tags": [
          "Shopping"
        ],
        "summary": "Cancel order",
        "description": "Cancel order and restore product stock automatically",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cancellationReason": {
                    "type": "string"
                  },
                  "cancelledBy": {
                    "type": "string",
                    "enum": [
                      "Customer",
                      "Seller",
                      "Admin"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order cancelled and stock restored"
          }
        }
      }
    },
    "/order/seller/orders": {
      "get": {
        "tags": [
          "Shopping"
        ],
        "summary": "Get seller's orders (Product Seller)",
        "description": "Product Seller views all orders containing their products",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Seller orders fetched"
          }
        }
      }
    },
    "/order/{id}/confirm": {
      "put": {
        "tags": [
          "Shopping"
        ],
        "summary": "Confirm order (Seller)",
        "description": "Product Seller confirms the order",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Order confirmed"
          }
        }
      }
    },
    "/order/{id}/update-status": {
      "put": {
        "tags": [
          "Shopping"
        ],
        "summary": "Update order status (Seller/Admin)",
        "description": "Update order status: Processing → Shipped → Out for Delivery → Delivered",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "Processing",
                      "Shipped",
                      "Out for Delivery",
                      "Delivered"
                    ],
                    "example": "Processing"
                  },
                  "note": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/order/delivery/orders": {
      "get": {
        "tags": [
          "Shopping"
        ],
        "summary": "Get delivery orders (Delivery Person)",
        "description": "Delivery Person views assigned delivery orders",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Delivery orders fetched"
          }
        }
      }
    },
    "/order/{id}/accept-delivery": {
      "put": {
        "tags": [
          "Shopping"
        ],
        "summary": "Accept delivery (Delivery Person)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delivery accepted"
          }
        }
      }
    },
    "/order/{id}/decline-delivery": {
      "put": {
        "tags": [
          "Shopping"
        ],
        "summary": "Decline delivery (Delivery Person)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Delivery declined"
          }
        }
      }
    },
    "/order/admin/all": {
      "get": {
        "tags": [
          "Shopping"
        ],
        "summary": "Get all orders (Admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All orders fetched"
          }
        }
      }
    },
    "/order/admin/assign-delivery": {
      "post": {
        "tags": [
          "Shopping"
        ],
        "summary": "Assign delivery partner (Admin)",
        "description": "Admin manually assigns a Delivery Person to the order",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "orderId",
                  "deliveryPartnerId"
                ],
                "properties": {
                  "orderId": {
                    "type": "string"
                  },
                  "deliveryPartnerId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Delivery partner assigned"
          }
        }
      }
    },
    "/service/request": {
      "post": {
        "tags": [
          "Service"
        ],
        "summary": "Request repair service (Customer)",
        "description": "Customer requests a repair service from a technician",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customerId",
                  "service",
                  "technicianId",
                  "isAtShop",
                  "scheduledDate",
                  "scheduledTime",
                  "paymentMethod"
                ],
                "properties": {
                  "customerId": {
                    "type": "string"
                  },
                  "service": {
                    "type": "object",
                    "properties": {
                      "serviceImage": {
                        "type": "string"
                      },
                      "serviceName": {
                        "type": "string",
                        "example": "AC Repair"
                      },
                      "description": {
                        "type": "string"
                      },
                      "estimatedPrice": {
                        "type": "number",
                        "example": 1500
                      }
                    }
                  },
                  "technicianId": {
                    "type": "string",
                    "description": "Selected technician ID"
                  },
                  "isAtShop": {
                    "type": "boolean",
                    "example": false,
                    "description": "true = at shop, false = at customer location"
                  },
                  "shopName": {
                    "type": "string"
                  },
                  "shopAddress": {
                    "type": "string"
                  },
                  "shopLocation": {
                    "type": "object"
                  },
                  "serviceAddress": {
                    "type": "object"
                  },
                  "scheduledDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "scheduledTime": {
                    "type": "string",
                    "example": "2:00 PM"
                  },
                  "timeSlot": {
                    "type": "string"
                  },
                  "paymentMethod": {
                    "type": "string",
                    "enum": [
                      "UPI",
                      "Cash",
                      "Card"
                    ]
                  },
                  "estimatedTotal": {
                    "type": "number"
                  },
                  "advancePayment": {
                    "type": "number"
                  },
                  "customerNotes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Service request sent"
          }
        }
      }
    },
    "/service/my-requests": {
      "get": {
        "tags": [
          "Service"
        ],
        "summary": "Get customer's service requests",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Service requests fetched"
          }
        }
      }
    },
    "/service/{id}": {
      "get": {
        "tags": [
          "Service"
        ],
        "summary": "Get service by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service details"
          }
        }
      }
    },
    "/service/{id}/cancel": {
      "put": {
        "tags": [
          "Service"
        ],
        "summary": "Cancel service",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cancellationReason": {
                    "type": "string"
                  },
                  "cancelledBy": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service cancelled"
          }
        }
      }
    },
    "/service/technician/requests": {
      "get": {
        "tags": [
          "Service"
        ],
        "summary": "Get technician's service requests",
        "description": "Repair Technician views all assigned service requests",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service requests fetched"
          }
        }
      }
    },
    "/service/{id}/accept": {
      "put": {
        "tags": [
          "Service"
        ],
        "summary": "Accept service request (Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "technicianNotes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service accepted"
          }
        }
      }
    },
    "/service/{id}/decline": {
      "put": {
        "tags": [
          "Service"
        ],
        "summary": "Decline service request (Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service declined"
          }
        }
      }
    },
    "/service/{id}/update-status": {
      "put": {
        "tags": [
          "Service"
        ],
        "summary": "Update service status (Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "Service Ongoing",
                      "Service Completed"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated"
          }
        }
      }
    },
    "/service/{id}/complete": {
      "post": {
        "tags": [
          "Service"
        ],
        "summary": "Complete service with photos and final price (Technician)",
        "description": "Technician completes the service with before/after photos and actual total amount",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "actualTotal"
                ],
                "properties": {
                  "actualTotal": {
                    "type": "number",
                    "example": 2000,
                    "description": "Final price after inspection"
                  },
                  "beforePhotos": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "url1",
                      "url2"
                    ]
                  },
                  "afterPhotos": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "url3",
                      "url4"
                    ]
                  },
                  "technicianNotes": {
                    "type": "string",
                    "example": "Replaced AC compressor"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service completed. Transaction created."
          }
        }
      }
    },
    "/service/admin/pending": {
      "get": {
        "tags": [
          "Service"
        ],
        "summary": "Get pending service requests (Admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Pending requests fetched"
          }
        }
      }
    },
    "/service/admin/assign-technician": {
      "post": {
        "tags": [
          "Service"
        ],
        "summary": "Assign/reassign technician (Admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "requestId",
                  "technicianId"
                ],
                "properties": {
                  "requestId": {
                    "type": "string"
                  },
                  "technicianId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Technician assigned"
          }
        }
      }
    },
    "/service/admin/all": {
      "get": {
        "tags": [
          "Service"
        ],
        "summary": "Get all service requests (Admin)",
        "description": "Admin views all service requests with optional filters",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "Request Placed",
                "Technician Assigned",
                "Service Accepted",
                "Technician Declined",
                "Service Ongoing",
                "Service Completed",
                "Cancelled"
              ]
            },
            "description": "Filter by service status"
          },
          {
            "name": "isAtShop",
            "in": "query",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by service location (true = at shop, false = at customer)"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All service requests fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "serviceRequests": {
                      "type": "array"
                    },
                    "totalPages": {
                      "type": "number"
                    },
                    "currentPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partner-features/profile": {
      "get": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Get partner profile (All Partners)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profile fetched"
          }
        }
      }
    },
    "/partner-features/profile/update": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Update partner profile (All Partners)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "fullName": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phoneNumber": {
                    "type": "string"
                  },
                  "profilePhoto": {
                    "type": "string"
                  },
                  "address": {
                    "type": "object"
                  },
                  "emergencyContact": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated"
          }
        }
      }
    },
    "/partner-features/payout/update": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Update payout details (All Partners)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "accountHolderName": {
                    "type": "string"
                  },
                  "accountNumber": {
                    "type": "string"
                  },
                  "ifscCode": {
                    "type": "string"
                  },
                  "idProof": {
                    "type": "string"
                  },
                  "termsAccepted": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payout details updated"
          }
        }
      }
    },
    "/partner-features/vehicle/update": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Update vehicle details (Washing Personnel / Delivery Person)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "vehicleType": {
                    "type": "string",
                    "example": "Bike"
                  },
                  "vehicleModel": {
                    "type": "string",
                    "example": "Honda Activa"
                  },
                  "licensePlate": {
                    "type": "string",
                    "example": "TN01AB1234"
                  },
                  "registrationCertificate": {
                    "type": "string"
                  },
                  "drivingLicense": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vehicle details updated"
          }
        }
      }
    },
    "/partner-features/availability": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Toggle availability (Washing Personnel / Delivery Person)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "isAvailable"
                ],
                "properties": {
                  "isAvailable": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Availability updated"
          }
        }
      }
    },
    "/partner-features/services": {
      "get": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Get my services (Repair Service Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Services fetched"
          }
        }
      }
    },
    "/partner-features/services/add": {
      "post": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Add new service (Repair Service Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "serviceName",
                  "minPrice",
                  "maxPrice"
                ],
                "properties": {
                  "serviceImage": {
                    "type": "string"
                  },
                  "serviceName": {
                    "type": "string",
                    "example": "AC Repair"
                  },
                  "description": {
                    "type": "string",
                    "example": "Complete AC repair and maintenance"
                  },
                  "minPrice": {
                    "type": "number",
                    "example": 500
                  },
                  "maxPrice": {
                    "type": "number",
                    "example": 2000
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Service added"
          }
        }
      }
    },
    "/partner-features/services/{serviceId}/update": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Update service (Repair Service Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "serviceImage": {
                    "type": "string"
                  },
                  "serviceName": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "minPrice": {
                    "type": "number"
                  },
                  "maxPrice": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service updated"
          }
        }
      }
    },
    "/partner-features/services/{serviceId}/delete": {
      "delete": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Delete service (Repair Service Technician)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service deleted"
          }
        }
      }
    },
    "/partner-features/shop/update": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Update shop details (Repair Technician / Product Seller)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "shopName": {
                    "type": "string"
                  },
                  "shopType": {
                    "type": "string"
                  },
                  "shopAddress": {
                    "type": "string"
                  },
                  "location": {
                    "type": "object"
                  },
                  "shopImages": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Shop details updated"
          }
        }
      }
    },
    "/partner-features/products": {
      "get": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Get my products (Product Seller)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Products fetched"
          }
        }
      }
    },
    "/partner-features/products/add": {
      "post": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Add new product (Product Seller)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productTitle",
                  "unitPrice",
                  "stockQuantity"
                ],
                "properties": {
                  "productImage": {
                    "type": "string"
                  },
                  "productTitle": {
                    "type": "string",
                    "example": "Car Shampoo 500ml"
                  },
                  "productDescription": {
                    "type": "string"
                  },
                  "unitPrice": {
                    "type": "number",
                    "example": 299
                  },
                  "stockQuantity": {
                    "type": "number",
                    "example": 50
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product added"
          }
        }
      }
    },
    "/partner-features/products/{productId}/update": {
      "put": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Update product (Product Seller)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productImage": {
                    "type": "string"
                  },
                  "productTitle": {
                    "type": "string"
                  },
                  "productDescription": {
                    "type": "string"
                  },
                  "unitPrice": {
                    "type": "number"
                  },
                  "stockQuantity": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated"
          }
        }
      }
    },
    "/partner-features/products/{productId}/delete": {
      "delete": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Delete product (Product Seller)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product deleted"
          }
        }
      }
    },
    "/partner-features/earnings/summary": {
      "get": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Get earnings summary (All Partners)",
        "description": "Get partner's earnings summary with this week, this month, and total earnings",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Earnings summary fetched",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "currentBalance": {
                      "type": "number"
                    },
                    "thisWeek": {
                      "type": "object",
                      "properties": {
                        "earnings": {
                          "type": "number"
                        },
                        "bookings": {
                          "type": "number"
                        }
                      }
                    },
                    "thisMonth": {
                      "type": "object",
                      "properties": {
                        "earnings": {
                          "type": "number"
                        },
                        "bookings": {
                          "type": "number"
                        }
                      }
                    },
                    "totalEarnings": {
                      "type": "number"
                    },
                    "totalBookings": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partner-features/earnings/transactions": {
      "get": {
        "tags": [
          "Partner Features"
        ],
        "summary": "Get transaction history (All Partners)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "transactionType",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "Earning",
                "Payout",
                "Deduction",
                "Refund"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transaction history fetched"
          }
        }
      }
    },
    "/voucher/apply": {
      "post": {
        "tags": [
          "Voucher"
        ],
        "summary": "Apply voucher (Customer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "voucherCode",
                  "userId",
                  "orderType",
                  "orderAmount"
                ],
                "properties": {
                  "voucherCode": {
                    "type": "string",
                    "example": "SAVE20"
                  },
                  "userId": {
                    "type": "string"
                  },
                  "orderType": {
                    "type": "string",
                    "enum": [
                      "Car Wash",
                      "Bike Wash",
                      "Shopping",
                      "Repair Services"
                    ],
                    "example": "Car Wash"
                  },
                  "orderAmount": {
                    "type": "number",
                    "example": 500
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Voucher applied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "discountAmount": {
                      "type": "number"
                    },
                    "finalAmount": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Voucher invalid or expired"
          }
        }
      }
    },
    "/voucher/available": {
      "get": {
        "tags": [
          "Voucher"
        ],
        "summary": "Get available vouchers (Customer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "orderType",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by order type"
          }
        ],
        "responses": {
          "200": {
            "description": "Available vouchers fetched"
          }
        }
      }
    },
    "/voucher/usage/{userId}": {
      "get": {
        "tags": [
          "Voucher"
        ],
        "summary": "Get voucher usage history (Customer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usage history fetched"
          }
        }
      }
    },
    "/review/create": {
      "post": {
        "tags": [
          "Review"
        ],
        "summary": "Create review (Customer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customerId",
                  "partnerId",
                  "orderId",
                  "orderType",
                  "rating"
                ],
                "properties": {
                  "customerId": {
                    "type": "string"
                  },
                  "partnerId": {
                    "type": "string"
                  },
                  "orderId": {
                    "type": "string",
                    "description": "Booking ID, Order ID, or Service Request ID"
                  },
                  "orderType": {
                    "type": "string",
                    "enum": [
                      "Booking",
                      "ProductOrder",
                      "ServiceBooking"
                    ],
                    "example": "Booking"
                  },
                  "rating": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 5,
                    "example": 5
                  },
                  "reviewText": {
                    "type": "string",
                    "example": "Excellent service! Very professional."
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Review image URLs"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Review created. Partner's rating updated."
          },
          "400": {
            "description": "Duplicate review"
          }
        }
      }
    },
    "/review/my-reviews/{customerId}": {
      "get": {
        "tags": [
          "Review"
        ],
        "summary": "Get my reviews (Customer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reviews fetched"
          }
        }
      }
    },
    "/review/{id}/respond": {
      "post": {
        "tags": [
          "Review"
        ],
        "summary": "Respond to review (Partner)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "responseText"
                ],
                "properties": {
                  "responseText": {
                    "type": "string",
                    "example": "Thank you for your feedback!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Response added"
          }
        }
      }
    },
    "/review/partner/{partnerId}": {
      "get": {
        "tags": [
          "Review"
        ],
        "summary": "Get partner's reviews (Public)",
        "description": "Get all visible reviews for a partner with rating breakdown",
        "parameters": [
          {
            "name": "partnerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reviews fetched with rating breakdown",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reviews": {
                      "type": "array"
                    },
                    "totalCount": {
                      "type": "number"
                    },
                    "ratingBreakdown": {
                      "type": "object",
                      "properties": {
                        "1": {
                          "type": "number"
                        },
                        "2": {
                          "type": "number"
                        },
                        "3": {
                          "type": "number"
                        },
                        "4": {
                          "type": "number"
                        },
                        "5": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/notification/customer/{userId}": {
      "get": {
        "tags": [
          "Notification"
        ],
        "summary": "Get customer notifications",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isRead",
            "in": "query",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by read/unread"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notifications fetched",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "notifications": {
                      "type": "array"
                    },
                    "unreadCount": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/notification/partner/{userId}": {
      "get": {
        "tags": [
          "Notification"
        ],
        "summary": "Get partner notifications",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notifications fetched"
          }
        }
      }
    },
    "/notification/{id}/read": {
      "put": {
        "tags": [
          "Notification"
        ],
        "summary": "Mark notification as read",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read"
          }
        }
      }
    },
    "/notification/read-all": {
      "put": {
        "tags": [
          "Notification"
        ],
        "summary": "Mark all notifications as read",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "userType"
                ],
                "properties": {
                  "userId": {
                    "type": "string"
                  },
                  "userType": {
                    "type": "string",
                    "enum": [
                      "Customer",
                      "Partner"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "All notifications marked as read"
          }
        }
      }
    },
    "/admin/services/create": {
      "post": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Create new service (Admin only)",
        "description": "Admin creates a new Car Wash or Bike Wash service with pricing and features",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "serviceType",
                  "serviceName",
                  "description",
                  "duration",
                  "price"
                ],
                "properties": {
                  "serviceType": {
                    "type": "string",
                    "enum": [
                      "Car Wash",
                      "Bike Wash"
                    ],
                    "example": "Car Wash",
                    "description": "Type of service"
                  },
                  "serviceName": {
                    "type": "string",
                    "example": "Standard Car Wash",
                    "description": "Name of the service package"
                  },
                  "description": {
                    "type": "string",
                    "example": "Exterior wash with interior vacuum",
                    "description": "Service description"
                  },
                  "features": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "Exterior soap wash",
                      "Interior vacuum",
                      "Dashboard cleaning",
                      "Window cleaning"
                    ],
                    "description": "List of features included"
                  },
                  "duration": {
                    "type": "number",
                    "example": 30,
                    "description": "Service duration in minutes"
                  },
                  "price": {
                    "type": "number",
                    "example": 25,
                    "description": "Service price in dollars/rupees"
                  },
                  "expressServiceAvailable": {
                    "type": "boolean",
                    "example": true,
                    "default": true,
                    "description": "Whether express service is available"
                  },
                  "expressFee": {
                    "type": "number",
                    "example": 5,
                    "default": 0,
                    "description": "Additional fee for express service"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Service created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Service created successfully ✅"
                    },
                    "service": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "64abc123def456..."
                        },
                        "serviceType": {
                          "type": "string",
                          "example": "Car Wash"
                        },
                        "serviceName": {
                          "type": "string",
                          "example": "Standard Car Wash"
                        },
                        "description": {
                          "type": "string",
                          "example": "Exterior wash with interior vacuum"
                        },
                        "features": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "duration": {
                          "type": "number",
                          "example": 30
                        },
                        "price": {
                          "type": "number",
                          "example": 25
                        },
                        "expressServiceAvailable": {
                          "type": "boolean",
                          "example": true
                        },
                        "expressFee": {
                          "type": "number",
                          "example": 5
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        },
                        "createdBy": {
                          "type": "string",
                          "example": "64admin..."
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or service already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Standard Car Wash already exists for Car Wash"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Admin token required"
          }
        }
      }
    },
    "/admin/services/all": {
      "get": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Get all services (Admin only)",
        "description": "Admin gets all services with optional filters",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "serviceType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "Car Wash",
                "Bike Wash"
              ]
            },
            "description": "Filter by service type"
          },
          {
            "name": "isActive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by active status (true/false)"
          }
        ],
        "responses": {
          "200": {
            "description": "Services fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Services fetched successfully"
                    },
                    "count": {
                      "type": "number",
                      "example": 5
                    },
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "serviceType": {
                            "type": "string",
                            "example": "Car Wash"
                          },
                          "serviceName": {
                            "type": "string",
                            "example": "Basic Car Wash"
                          },
                          "description": {
                            "type": "string"
                          },
                          "features": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "duration": {
                            "type": "number",
                            "example": 20
                          },
                          "price": {
                            "type": "number",
                            "example": 15
                          },
                          "expressServiceAvailable": {
                            "type": "boolean",
                            "example": true
                          },
                          "expressFee": {
                            "type": "number",
                            "example": 5
                          },
                          "isActive": {
                            "type": "boolean",
                            "example": true
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/services/type/{serviceType}": {
      "get": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Get services by type (Public)",
        "description": "Get all active services of a specific type - No authentication required",
        "parameters": [
          {
            "name": "serviceType",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "Car Wash",
                "Bike Wash"
              ]
            },
            "description": "Service type to fetch"
          }
        ],
        "responses": {
          "200": {
            "description": "Services fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Car Wash services fetched"
                    },
                    "count": {
                      "type": "number",
                      "example": 3
                    },
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid service type"
          }
        }
      }
    },
    "/admin/services/{id}": {
      "get": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Get service by ID",
        "description": "Get details of a specific service",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Service ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Service fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Service fetched successfully"
                    },
                    "service": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Service not found"
          }
        }
      }
    },
    "/admin/services/{id}/update": {
      "put": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Update service (Admin only)",
        "description": "Admin updates service details like price, duration, features",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Service ID to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "serviceName": {
                    "type": "string",
                    "example": "Premium Car Wash"
                  },
                  "description": {
                    "type": "string",
                    "example": "Complete interior & exterior detailing"
                  },
                  "features": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "All standard features",
                      "Waxing & polishing",
                      "Tire dressing"
                    ]
                  },
                  "duration": {
                    "type": "number",
                    "example": 60
                  },
                  "price": {
                    "type": "number",
                    "example": 45
                  },
                  "expressServiceAvailable": {
                    "type": "boolean",
                    "example": true
                  },
                  "expressFee": {
                    "type": "number",
                    "example": 10
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Service updated successfully ✅"
                    },
                    "service": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Service not found"
          }
        }
      }
    },
    "/admin/services/{id}/toggle-status": {
      "put": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Toggle service status (Admin only)",
        "description": "Admin activates or deactivates a service",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Service ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "isActive"
                ],
                "properties": {
                  "isActive": {
                    "type": "boolean",
                    "example": false,
                    "description": "true to activate, false to deactivate"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service status toggled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Service deactivated successfully ✅"
                    },
                    "service": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string"
                        },
                        "serviceName": {
                          "type": "string",
                          "example": "Basic Car Wash"
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": false
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "isActive must be boolean"
          },
          "404": {
            "description": "Service not found"
          }
        }
      }
    },
    "/admin/services/{id}/delete": {
      "delete": {
        "tags": [
          "Admin - Service Management"
        ],
        "summary": "Delete service (Admin only)",
        "description": "Admin permanently deletes a service",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Service ID to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Service deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Service deleted successfully ✅"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Service not found"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Enter JWT token (accessToken from login/register response)"
      }
    },
    "schemas": {
      "Customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "692fe5d13778bddc8364a45d"
          },
          "fullName": {
            "type": "string",
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "example": "john@example.com"
          },
          "phoneNumber": {
            "type": "string",
            "example": "+917397695334"
          },
          "referralCode": {
            "type": "string",
            "example": "JOHN123"
          },
          "referredBy": {
            "type": "string",
            "nullable": true,
            "example": "ABC123"
          },
          "isActive": {
            "type": "boolean",
            "example": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2024-12-05T10:30:00Z"
          }
        }
      },
      "CustomerAuthResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "User registered successfully ✅"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "example": "692fe5d13778bddc8364a45d"
              },
              "fullName": {
                "type": "string",
                "example": "John Doe"
              },
              "email": {
                "type": "string",
                "example": "john@example.com"
              },
              "phoneNumber": {
                "type": "string",
                "example": "+917397695334"
              },
              "referralCode": {
                "type": "string",
                "example": "JOHN123"
              }
            }
          },
          "accessToken": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "refreshToken": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "Admin": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "superadmin"
            ]
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AdminAuthResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "admin": {
            "$ref": "#/components/schemas/Admin"
          },
          "accessToken": {
            "type": "string"
          },
          "refreshToken": {
            "type": "string"
          }
        }
      },
      "Partner": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "Washing Personnel",
              "Delivery Person",
              "Repair Service Technician",
              "Product Seller"
            ]
          },
          "referralCode": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "isVerified": {
            "type": "boolean"
          },
          "avgRating": {
            "type": "number"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProductSellerProfileResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Profile completed successfully! ✅ Your account is pending admin approval."
          },
          "partner": {
            "$ref": "#/components/schemas/Partner"
          },
          "products": {
            "type": "array",
            "description": "Array of products with generated productId and sellerId",
            "items": {
              "type": "object",
              "properties": {
                "productId": {
                  "type": "string",
                  "description": "Auto-generated MongoDB ObjectId",
                  "example": "675d1e2f3a4b5c6789012345"
                },
                "sellerId": {
                  "type": "string",
                  "description": "Partner ID (same for all products)",
                  "example": "692ff8696496b01c810ffd89"
                },
                "productImage": {
                  "type": "string"
                },
                "productTitle": {
                  "type": "string"
                },
                "productDescription": {
                  "type": "string"
                },
                "unitPrice": {
                  "type": "number"
                },
                "stockQuantity": {
                  "type": "number"
                }
              }
            }
          },
          "summary": {
            "type": "object",
            "properties": {
              "totalProducts": {
                "type": "integer"
              },
              "sellerId": {
                "type": "string"
              },
              "sellerName": {
                "type": "string"
              }
            }
          },
          "note": {
            "type": "string",
            "example": "Products added successfully! You can login after admin approval."
          }
        }
      },
      "RepairTechnicianProfileResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Profile completed successfully! ✅ Your account is pending admin approval."
          },
          "partner": {
            "$ref": "#/components/schemas/Partner"
          },
          "services": {
            "type": "array",
            "description": "Array of services with generated serviceId and technicianId",
            "items": {
              "type": "object",
              "properties": {
                "serviceId": {
                  "type": "string",
                  "description": "Auto-generated MongoDB ObjectId",
                  "example": "675f3a4b5c6789012347"
                },
                "technicianId": {
                  "type": "string",
                  "description": "Partner ID (same for all services)",
                  "example": "693ab8796496b01c810ffd90"
                },
                "serviceImage": {
                  "type": "string"
                },
                "serviceName": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "minPrice": {
                  "type": "number"
                },
                "maxPrice": {
                  "type": "number"
                }
              }
            }
          },
          "summary": {
            "type": "object",
            "properties": {
              "totalServices": {
                "type": "integer"
              },
              "technicianId": {
                "type": "string"
              },
              "technicianName": {
                "type": "string"
              }
            }
          },
          "note": {
            "type": "string",
            "example": "You can login after admin approval"
          }
        }
      },
      "GenericProfileResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Profile completed successfully! ✅ Your account is pending admin approval."
          },
          "partner": {
            "$ref": "#/components/schemas/Partner"
          },
          "note": {
            "type": "string",
            "example": "You can login after admin approval"
          }
        }
      },
      "PartnerProfileUpdate": {
        "type": "object",
        "properties": {
          "address": {
            "type": "object",
            "properties": {
              "street": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "state": {
                "type": "string"
              },
              "postalCode": {
                "type": "string"
              },
              "country": {
                "type": "string"
              },
              "location": {
                "type": "object",
                "properties": {
                  "coordinates": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    },
                    "example": [
                      80.2707,
                      13.0827
                    ]
                  }
                }
              }
            }
          },
          "emergencyContact": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              }
            }
          },
          "serviceCategories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "For Washing Personnel only",
            "example": [
              "Exterior Wash",
              "Interior Cleaning"
            ]
          },
          "vehicleDetails": {
            "type": "object",
            "description": "For Delivery Person & Washing Personnel",
            "properties": {
              "vehicleType": {
                "type": "string",
                "example": "Bike"
              },
              "vehicleModel": {
                "type": "string",
                "example": "Honda Activa"
              },
              "licensePlate": {
                "type": "string",
                "example": "TN01AB1234"
              },
              "registrationCertificate": {
                "type": "string",
                "description": "File path"
              },
              "drivingLicense": {
                "type": "string",
                "description": "File path"
              }
            }
          },
          "shopDetails": {
            "type": "object",
            "description": "For Repair Technician & Product Seller",
            "properties": {
              "shopName": {
                "type": "string",
                "example": "ABC Auto Repair"
              },
              "shopType": {
                "type": "string",
                "example": "Auto Repair"
              },
              "shopAddress": {
                "type": "string"
              },
              "location": {
                "type": "object",
                "properties": {
                  "coordinates": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    },
                    "example": [
                      80.2707,
                      13.0827
                    ]
                  }
                }
              },
              "shopImages": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Array of image URLs"
              }
            }
          },
          "services": {
            "type": "array",
            "description": "For Repair Technician only. Backend auto-generates serviceId for each service.",
            "items": {
              "type": "object",
              "required": [
                "serviceName",
                "minPrice",
                "maxPrice"
              ],
              "properties": {
                "serviceImage": {
                  "type": "string"
                },
                "serviceName": {
                  "type": "string",
                  "example": "Engine Repair"
                },
                "description": {
                  "type": "string"
                },
                "minPrice": {
                  "type": "number",
                  "example": 500
                },
                "maxPrice": {
                  "type": "number",
                  "example": 2000
                }
              }
            }
          },
          "yearsOfExperience": {
            "type": "number",
            "description": "For Repair Technician only",
            "example": 5
          },
          "specializations": {
            "type": "array",
            "description": "For Repair Technician only",
            "items": {
              "type": "string"
            },
            "example": [
              "Engine",
              "Brakes",
              "AC"
            ]
          },
          "certifications": {
            "type": "array",
            "description": "For Repair Technician only - file paths",
            "items": {
              "type": "string"
            }
          },
          "idProof": {
            "type": "string",
            "description": "For Repair Technician only - Aadhaar/ID file path"
          },
          "profilePhoto": {
            "type": "string",
            "description": "Profile photo URL"
          },
          "products": {
            "type": "array",
            "description": "For Product Seller only. Backend auto-generates productId for each product.",
            "items": {
              "type": "object",
              "required": [
                "productTitle",
                "unitPrice",
                "stockQuantity"
              ],
              "properties": {
                "productImage": {
                  "type": "string"
                },
                "productTitle": {
                  "type": "string",
                  "example": "Engine Oil"
                },
                "productDescription": {
                  "type": "string"
                },
                "unitPrice": {
                  "type": "number",
                  "example": 450
                },
                "stockQuantity": {
                  "type": "number",
                  "example": 50
                }
              }
            }
          },
          "payoutDetails": {
            "type": "object",
            "description": "For all roles",
            "properties": {
              "accountHolderName": {
                "type": "string"
              },
              "accountNumber": {
                "type": "string"
              },
              "ifscCode": {
                "type": "string"
              },
              "idProof": {
                "type": "string",
                "description": "Bank ID proof file path"
              },
              "termsAccepted": {
                "type": "boolean"
              }
            }
          }
        }
      }
    }
  }
}